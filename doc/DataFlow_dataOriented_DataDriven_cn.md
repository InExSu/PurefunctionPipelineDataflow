# `数据驱动编程`、`面向数据的设计(编程)`与`纯函数管道数据流和基于原则的仓库/车间模型`的区别

版权所有 © 2021.02.22 林鹏程， 保留所有权利。

## 数据驱动编程

- Eric Steven Raymond, Unix编程的艺术

  > [第9章 生成: 数据驱动编程](https://homepage.cs.uri.edu/~thenry/resources/unix_art/ch09s01.html)
  >
  > 在进行数据驱动的编程时，可以清楚地将代码与
  > 代码所作用的数据结构区分开来，并且可以对两者进行设计，
  > 从而使人们可以**通过编辑数据结构而不是代码来更改程序的逻辑**。
  
- [维基百科: 数据驱动编程](https://en.wikipedia.org/wiki/Data-driven_programming)

  > 在计算机编程中，数据驱动编程是一种编程范式，
  > 其中程序语句描述要匹配的数据和所需的处理，
  > 而不是定义要采取的一系列步骤。
  
## 面向数据的设计(编程)

- [维基百科: 面向数据的设计](https://en.wikipedia.org/wiki/Data-oriented_design)

  > 在计算中，数据导向设计是一种**程序优化方法**，
  > 其**动机**是高效使用视频游戏开发中使用的**CPU缓存**。 
  > **方法**是根据需要时**专注于数据布局、分离和排序字段，
  > 并考虑数据的转换**。
  
- [Noel, 面向数据的设计（或者为什么您可能搬了OOP砸了自己的脚）](https://gamesfromwithin.com/data-oriented-design)

  > 面向数据的设计将编程的视角从对象转移到数据本身:
  > **数据的类型、内存中如何布局以及游戏中如何读取和处理数据**。
  > 
  > 根据定义，编程是关于**转换数据**的：它是创建一系列机器指令，
  > 描述如何处理输入数据并创建某些特定输出数据的行为。
  
- Richard Fabian, 面向数据的设计

  > [1.1一切与数据有关](https://www.dataorienteddesign.com/dodbook/node2.html#SECTION00210000000000000000)
  > 
  > 本质上，面向数据的设计是**通过开发格式正确的数据的转换
  > 来设计软件**的实践，其中格式良好的标准由目标硬件以及
  > 需要对其进行操作的转换的模式和类型来指导。 

## 差异

- 数据驱动编程
  - 通过编辑数据结构而不是代码来更改程序的逻辑
  - 代码和数据结构分离
  
- 面向数据的设计(编程)  
  - 它是一种程序优化方法
  - 动机: 高效使用CPU缓存
  - 方法: 专注于数据布局、分离和排序字段，并考虑数据的转换
  
- 纯函数管道数据流和基于原则的仓库/车间模型
  - 它是一种系统论, 包括架构、编程、原则、质控、美学
    一系列完整、简单、统一的理论。它和制造业、集成电路、计算机硬件架构的系统理论高度一致.
    其他两种方法缺乏这种完整、简单、统一的系统理论。 
  - 优化方法
    - 仓库调度函数根据可用资源, 按甘特图算法
      动态规划任务的完成顺序，据以调用车间完成分派的任务。
      这种做法效率最高, 也没有资源竞争和事务冲突.
    - 系统的连贯性: 把软件当成生产数据的工厂, 
      通过设计一个优秀的产品(数据)标准规范, 
      以把软件设计成一个简单、高效、可靠、流畅的数据制造生产线.
      它注重整个系统数据流动的连续性,
      整个运行时系统就是一个奔流不息的长江水系图, 
      或者是一个运行的集成电路系统,
      在系统里, 数据流(水流, 电流)持续不断地顺畅流动,
      它本质上是持续运行的树形甘特图.
    - 仓库/车间模型有利于全局优化
    - 面向数据的设计(编程) : 专注于数据布局、分离和排序字段，并考虑数据的转换
    - 数据驱动编程没有这方面论述。
  - 它可以很自然地兼容和吸收`数据驱动编程`和`面向数据设计(编程)`作为一种技术手段.
  - 它和RMDB, MVCC,  存在强相关，而且它和Clojure的早期理念STM的目标是相似的, 但很遗憾, 现在STM好象在clojure社区里并不流行。
  - 它和lisp一样, 都追求的简单和统一, 但好象在lisp社区只是成为宏和S表达式的宣传口号。
